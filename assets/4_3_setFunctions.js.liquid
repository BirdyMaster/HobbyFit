const btns_addToCart = document.querySelectorAll('.btn_mainDesc.bag')
btns_addToCart.forEach(x => x.addEventListener('click', () => {
  document.querySelector('.form_productPage').submit()
}))


if (is_bag_emtpy()) {
const btn_checkout = document.querySelector('.btn_mainDesc.buy');

btn_checkout.addEventListener('click', () => {
    const form = document.querySelector('.form_productPage');
    const input = document.createElement('input');
    input.value = "/checkout";
    input.type = "hidden";
    input.name = "return_to";

    form.appendChild(input);
    form.submit();
})
}





function set_circleColors() {
    const circle_option = document.querySelectorAll('.circle_option')
    circle_option.forEach(x => {
      const color_raw = x.dataset.circle_color.split(" ")[2];
      x.style.backgroundColor = color_raw;
    })
}
function changeUrl(matchedVariant, color_bg, color_raw) {
  const url = new URLParse(window.location.href, true)
  url.query.variant = matchedVariant.id
  url.query.color_bg = color_bg
  url.query.color_raw = color_raw
  window.history.replaceState(null, null, url.toString())
}
function edit_hiddenInput(matchedVariant) {
  document.getElementById('product_id').value = matchedVariant.id
}
function bubble_jump(target) {
  target.classList.add('scale')
  setTimeout(() => {
    target.classList.remove('scale')
  }, 300)
}
function is_already_inCart(cardIDS, current_id) {
  const sign_alreadyBag = document.querySelector('.sign_alreadyBag')
  cardIDS.some(x => x == current_id) ? sign_alreadyBag.style.display = "block" : sign_alreadyBag.style.display = "none"
}



